#define NUM_RELAYS 16

int relayPins[NUM_RELAYS] = {2, 3, 4, 5, 6, 7, 8, 9, A0, A1, A2, A3, A5, A6, A7};
String inputString = "";
boolean stringComplete = false;

void setup() {

  Serial.begin(9600);
  Serial1.begin(9600);

  for (int i = 0; i < NUM_RELAYS; i++) {
    pinMode(relayPins[i], OUTPUT);
    digitalWrite(relayPins[i], LOW);

  }
  inputString.reserve(32);
}

void loop() {
  serialEvent();
  if (stringComplete) {

    for (int i = 1; i < NUM_RELAYS; i++) {
      digitalWrite(relayPins[i], HIGH);
    }
    for (int i = 0; i < inputString.length() && i < NUM_RELAYS; i++) {
      if (inputString.charAt(i) == '1')
      {
        digitalWrite(relayPins[i], LOW);
      }
      if (inputString.charAt(i) == '0')
      {
        digitalWrite(relayPins[i], HIGH);
      }
    }
    inputString = "";
    stringComplete = false;

   
  }
}
void serialEvent() {
  while (Serial1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               .available()) {

    char inChar = (char)Serial1.read();
    Serial.println(inChar);
    if (inChar == '*') {
      inputString = "";
    } else if (inChar == '#') {
      stringComplete = true;
    } else {
      inputString += inChar;
    }
  }
}
